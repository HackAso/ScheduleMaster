package hackathon.aso.schedulemaster;import android.content.Intent;import android.os.Bundle;import android.support.v7.app.ActionBarActivity;import android.util.Log;import android.view.Menu;import android.view.View;import android.widget.Button;import android.widget.EditText;import android.widget.Toast;import com.nifty.cloud.mb.LogInCallback;import com.nifty.cloud.mb.NCMBException;import com.nifty.cloud.mb.NCMBUser;import static android.view.View.OnClickListener;public class LoginActivity extends ActionBarActivity {    OnClickListener listener = new OnClickListener() {        @Override        public void onClick(View v) {            EditText etEmail = (EditText) findViewById(R.id.et_email_login);            String userEmail = etEmail.getText().toString();            EditText etPass = (EditText) findViewById(R.id.et_pass_login);            String userPass = etPass.getText().toString();            switch (v.getId()) {                case R.id.ib_login_login:                    NCMBUser.logInInBackground(userEmail, userPass, new LogInCallback() {                        @Override                        public void done(NCMBUser ncmbUser, NCMBException e) {                            if (e == null) {                                Intent intent = new Intent(getApplicationContext(), MainActivity.class);                                startActivity(intent);                            } else {                                Log.i("状態", "ログイン失敗: " + e.getLocalizedMessage());                                Toast.makeText(getApplication(), "IDまたはパスワードが違います", Toast.LENGTH_LONG).show();                            }                        }                    });                    break;            }        }    };    @Override    protected void onCreate(Bundle savedInstanceState) {        super.onCreate(savedInstanceState);        setContentView(R.layout.activity_login);        Button loginButton = (Button) findViewById(R.id.ib_login_login);        loginButton.setOnClickListener(listener);    }    @Override    public boolean onCreateOptionsMenu(Menu menu) {        return true;    }}